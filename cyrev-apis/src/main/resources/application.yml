spring:
  application:
    name: cyrev-iam-provisioning
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update   # change to validate or none in prod if needed
    show-sql: true
    properties:
      hibernate.format_sql: true
  flyway:
    enabled: true
    locations: classpath:db/migration
  mail:
    host: smtp.gmail.com
    port: 587
    username: noreply@cyrev.com
    password: ${SMTP_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
logging:
  level:
    root: INFO
    com.company.iam: DEBUG

cyrev:
  admin: ${CYREV_ADMIN:cyrev_administrator}
  secret: ${CYREV_SECRET:edd23256-44b4-4f56-baa1-9380092f3f27}

temporal:
  host: ${TEMPORAL_HOST:temporal}
  port: ${TEMPORAL_PORT:7233}
  enabled: true
  task-queue: USER_PROVISIONING
  namespace: temporal-system
  workflow:
    timeout: PT5M # default workflow timeout

scim:
  enabled: true
  base-path: /scim/v2
  auth:
    username: admin
    password: admin
  token: scim-secret-xyz
  atlassian:
    base-url: https://cybrooke.atlassian.net/
    directory-id: 8ad1920-op8799-oapp-09945
rbac:
  default-role: EMPLOYEE

approval:
  auto-approve-apps:
    - SLACK

adapters:
  slack:
    api-url: https://slack.com/api
    token: xoxb-your-slack-token
  jira:
    api-url: https://cybrooke.atlassian.net/rest/api/3
    username: jira-bot
    api-token: your-jira-token
    scim:
      url: https://cybrooke.atlassian.net/

  bitbucket:
    baseurl: https://api.bitbucket.org/2.0
    username: apatababajide@gmail.com
    app-password:
    workspace: cybrookes
security:
  jwt:
    secret: VERY_LONG_RANDOM_SECRET_32_CHARS_MIN
    expiry: 3600000 # 1 hour

server:
  port: 8090

management:
  endpoints:
    web:
      exposure:
        include: "*"
